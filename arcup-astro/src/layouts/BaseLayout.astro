---
import '../styles/base-global.css';
import ScrollToTop from "../components/ScrollToTop.astro";


const {
  title = "arc^ byali",
  description = "Arc^ advances regenerative research, collaboration, and stewardship.",
  bodyClass = "",
  seo = {},
} = Astro.props;

const {
  canonical: canonicalProp,
  openGraph = {},
  twitter = {},
  robots,
} = seo;

const siteUrl = Astro.site ? new URL(Astro.url.pathname, Astro.site).toString() : undefined;
const canonical = canonicalProp ?? siteUrl;

const og = {
  title: openGraph.title ?? title,
  description: openGraph.description ?? description,
  url: openGraph.url ?? canonical,
  image: openGraph.image ?? "/social-card.jpg",
  type: openGraph.type ?? "website",
};

const twitterMeta = {
  card: twitter.card ?? "summary_large_image",
  title: twitter.title ?? og.title,
  description: twitter.description ?? og.description,
  image: twitter.image ?? og.image,
};

const bodyClasses = ["site-body", bodyClass].filter(Boolean).join(" ");
---
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/svg+xml" href={`${import.meta.env.BASE_URL}favicon.svg`} />    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <title>{title}</title>
    <meta name="description" content={description} />
    {canonical && <link rel="canonical" href={canonical} />}
    <meta property="og:title" content={og.title} />
    <meta property="og:description" content={og.description} />
    {og.url && <meta property="og:url" content={og.url} />}
    <meta property="og:type" content={og.type} />
    {og.image && <meta property="og:image" content={og.image} />}
    <meta name="twitter:card" content={twitterMeta.card} />
    <meta name="twitter:title" content={twitterMeta.title} />
    <meta name="twitter:description" content={twitterMeta.description} />
    {twitterMeta.image && <meta name="twitter:image" content={twitterMeta.image} />}
    {robots && <meta name="robots" content={robots} />}
    <slot name="head" />
  </head>
  <body class={bodyClasses}>
    <slot />
    <ScrollToTop />
    <slot name="scripts" />
  </body>
</html>
